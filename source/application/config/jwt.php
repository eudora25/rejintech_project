<?php
defined('BASEPATH') OR exit('No direct script access allowed');

/*
|--------------------------------------------------------------------------
| JWT Configuration
|--------------------------------------------------------------------------
|
| JWT (JSON Web Token) 관련 설정을 관리합니다.
| 
| 보안을 위해 실제 운영 환경에서는 환경변수를 사용하세요:
| - JWT_SECRET_KEY: JWT 서명을 위한 비밀키
| - JWT_ALGORITHM: JWT 암호화 알고리즘 (기본: HS256)
| - JWT_EXPIRATION: 토큰 만료 시간 (초 단위, 기본: 3600 = 1시간)
|
*/

/*
|--------------------------------------------------------------------------
| JWT Secret Key
|--------------------------------------------------------------------------
|
| JWT 토큰 서명을 위한 비밀키입니다.
| 
| ⚠️  보안 주의사항:
| - 충분히 복잡하고 예측 불가능한 값을 사용하세요 (최소 32글자)
| - 실제 운영 환경에서는 절대 소스코드에 하드코딩하지 마세요
| - 환경변수나 별도의 보안 스토리지에 저장하세요
| - 정기적으로 키를 교체하세요
|
*/
$config['jwt_secret_key'] = getenv('JWT_SECRET_KEY') ?: 'rejintech_jwt_secret_key_2025_change_this_in_production_env';

/*
|--------------------------------------------------------------------------
| JWT Algorithm
|--------------------------------------------------------------------------
|
| JWT 토큰 암호화에 사용할 알고리즘입니다.
| 지원되는 알고리즘: HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512
| 권장: HS256 (HMAC SHA-256)
|
*/
$config['jwt_algorithm'] = getenv('JWT_ALGORITHM') ?: 'HS256';

/*
|--------------------------------------------------------------------------
| JWT Token Expiration
|--------------------------------------------------------------------------
|
| JWT 토큰의 만료 시간을 초 단위로 설정합니다.
|
| 권장 설정:
| - 개발 환경: 3600 (1시간)
| - 운영 환경: 900 (15분) ~ 1800 (30분)
| - 리프레시 토큰: 86400 (24시간) ~ 604800 (7일)
|
*/
$config['jwt_expiration'] = (int)(getenv('JWT_EXPIRATION') ?: 3600);

/*
|--------------------------------------------------------------------------
| JWT Issuer
|--------------------------------------------------------------------------
|
| JWT 토큰의 발급자(iss) 클레임에 사용될 값입니다.
|
*/
$config['jwt_issuer'] = getenv('JWT_ISSUER') ?: 'rejintech';

/*
|--------------------------------------------------------------------------
| JWT Audience
|--------------------------------------------------------------------------
|
| JWT 토큰의 대상(aud) 클레임에 사용될 값입니다.
|
*/
$config['jwt_audience'] = getenv('JWT_AUDIENCE') ?: 'rejintech_users';

/*
|--------------------------------------------------------------------------
| JWT Refresh Token Settings
|--------------------------------------------------------------------------
|
| 리프레시 토큰 관련 설정입니다.
|
*/
$config['jwt_refresh_expiration'] = (int)(getenv('JWT_REFRESH_EXPIRATION') ?: 604800); // 7일
$config['jwt_refresh_enabled'] = (bool)(getenv('JWT_REFRESH_ENABLED') ?: false); 